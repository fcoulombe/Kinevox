import platform
Import('env')


name = "zlib"
dependencies = []

def SetCFlags(ienv):
	ienv.Append(CPPPATH=[env.Dir('#3rdParty/zlib/include')])
		
 
def SetLFlags(ienv):
    if ienv['PLATFORM'] == "win32":
        libPath = '#3rdParty/zlib/lib/' + platform.architecture()[0] + '/'
        ienv.Append(LIBS=[env.File(libPath + 'zlib.lib')])
    else:
        ienv.ParseConfig('pkg-config --libs libpng')

if env['PLATFORM'] == "win32":
    dllDep = [env.File('#3rdParty/zlib/bin/zlibwapi.dll')]	
else:
    dllDep = []
env.AddComponent(name, None, None,None,dependencies, SetCFlags, SetLFlags, dllDep)
